<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Candy Crush Full Screen Pro</title>
    <style>
        /* Poori screen par background */
        body { 
            background: linear-gradient(180deg, #ff99cc 0%, #ff66b2 100%);
            margin: 0; padding: 0; display: flex; flex-direction: column; 
            height: 100vh; width: 100vw; font-family: sans-serif; overflow: hidden; touch-action: none;
        }

        /* Top Panel - Bilkul Photo Jaisa */
        .header {
            height: 15vh; width: 100%; display: flex; justify-content: space-around;
            align-items: center; background: rgba(255, 255, 255, 0.2);
            border-bottom: 3px solid white; box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .info-box { text-align: center; color: white; text-shadow: 2px 2px #ff3399; }
        .info-label { font-size: 14px; font-weight: bold; text-transform: uppercase; }
        #score { font-size: 35px; font-weight: 900; }

        /* Full Screen Grid - No Small Box */
        .grid { 
            flex-grow: 1; display: grid; 
            grid-template-columns: repeat(8, 1fr); grid-template-rows: repeat(10, 1fr);
            width: 100vw; gap: 2px; padding: 5px; box-sizing: border-box;
            background: rgba(255,255,255,0.1);
        }

        .candy { 
            display: flex; align-items: center; justify-content: center;
            font-size: 8vw; user-select: none; border-radius: 10px;
            transition: transform 0.1s ease;
        }

        /* Pop-up Message */
        #message { 
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            font-size: 60px; font-weight: 900; color: #fff; z-index: 100;
            text-shadow: 0 0 20px #ff007f; display: none; pointer-events: none;
        }
    </style>
</head>
<body>

    <div class="header">
        <div class="info-box"><div class="info-label">Level</div><div>125</div></div>
        <div class="info-box"><div class="info-label">Score</div><div id="score">0</div></div>
    </div>

    <div id="message">FANTASTIC! ‚ú®</div>

    <div class="grid" id="grid"></div>

    <script>
        const grid = document.getElementById('grid');
        const scoreDisplay = document.getElementById('score');
        const msg = document.getElementById('message');
        const width = 8;
        const height = 10; // Zyada rows taaki poori screen bhare
        const emojis = ['üç¨', 'üç≠', 'üçì', 'üçá', 'üçí', 'üíé'];
        let squares = [];
        let score = 0;

        // Board setup
        function createBoard() {
            for (let i = 0; i < width * height; i++) {
                const square = document.createElement('div');
                square.className = 'candy';
                square.setAttribute('id', i);
                square.innerHTML = emojis[Math.floor(Math.random() * emojis.length)];
                grid.appendChild(square);
                squares.push(square);
                
                // Touch Events
                square.addEventListener('touchstart', tStart);
                square.addEventListener('touchend', tEnd);
            }
        }

        let sX, sY, dId;
        function tStart(e) { 
            dId = parseInt(this.id); 
            sX = e.touches[0].clientX; 
            sY = e.touches[0].clientY; 
        }

        function tEnd(e) {
            let eX = e.changedTouches[0].clientX, eY = e.changedTouches[0].clientY;
            let dX = eX - sX, dY = eY - sY, tId = dId;

            // Upar, Neeche, Aage, Piche Logic (Improved)
            if (Math.abs(dX) > Math.abs(dY)) { // Side move
                if (dX > 30 && dId % width !== width - 1) tId = dId + 1; // Right
                else if (dX < -30 && dId % width !== 0) tId = dId - 1; // Left
            } else { // Up-Down move
                if (dY > 30 && dId + width < width * height) tId = dId + width; // Down
                else if (dY < -30 && dId - width >= 0) tId = dId - width; // Up
            }

            if (tId !== dId) {
                let temp = squares[dId].innerHTML;
                squares[dId].innerHTML = squares[tId].innerHTML;
                squares[tId].innerHTML = temp;
                checkMatches();
            }
        }

        function checkMatches() {
            let found = false;
            // Match Rows & Columns
            for (let i = 0; i < width * height; i++) {
                let r3 = [i, i+1, i+2], c3 = [i, i+width, i+width*2];
                let current = squares[i].innerHTML;
                
                if (i % width < width - 2 && r3.every(idx => squares[idx] && squares[idx].innerHTML === current)) {
                    score += 30; found = true;
                    r3.forEach(idx => squares[idx].innerHTML = emojis[Math.floor(Math.random()*emojis.length)]);
                }
                if (i < width * (height - 2) && c3.every(idx => squares[idx] && squares[idx].innerHTML === current)) {
                    score += 30; found = true;
                    c3.forEach(idx => squares[idx].innerHTML = emojis[Math.floor(Math.random()*emojis.length)]);
                }
            }
            if (found) {
                scoreDisplay.innerText = score;
                msg.style.display = 'block';
                setTimeout(() => { msg.style.display = 'none'; checkMatches(); }, 500);
            }
        }
        createBoard();
    </script>
</body>
</html>
